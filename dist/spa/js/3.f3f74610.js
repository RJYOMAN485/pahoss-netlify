(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"013f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row flex flex-center q-gutter-md custombg",staticStyle:{"min-height":"100vh"}},[s("q-card",{staticClass:"my-card q-pa-md col",staticStyle:{"max-width":"600px",border:"3px solid #26A69A"}},[s("q-card-section",{staticClass:"bg-grey-8 text-white"},[s("div",{staticClass:"text-h6 text-center"},[t._v("User Login")])]),s("q-card-section",[s("q-form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[s("q-input",{attrs:{rules:[function(t){return t&&t.length>0||"Please type something"}],color:"purple-12",label:"Email",type:"email"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}}),s("q-input",{attrs:{rules:[function(t){return t&&t.length>0||"Please type something"}],type:"password",color:"purple-12",label:"Password"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}}),s("q-btn",{staticClass:"full-width",attrs:{label:"Login",type:"submit",loading:t.loading,color:"secondary"}})],1),s("div",{staticClass:"text-green text-center q-mt-md"},[s("q-btn",{attrs:{size:"sm",to:"/register",flat:"",color:"blue",dense:"",label:"Register here for account"}})],1),s("div",{staticClass:"text-green text-center q-mt-md"},[s("q-btn",{attrs:{size:"sm",to:"/login/admin",flat:"",color:"blue",dense:"",label:"Admin login"}})],1)],1)],1)],1)},o=[],r=s("ded3"),n=s.n(r),i=s("2f62"),l={mounted(){this.getUser(),this.$axios.defaults.withCredentials=!0,this.$axios.get("user",this.formData).then((t=>{console.log("auth",t.data)})).catch((t=>{console.log("unauthorised",t.message)}))},data(){return{name:null,age:null,loading:!1,accept:!1,errors:[],formData:{email:"",password:"",roles:"user"},error:{}}},methods:n()(n()({},Object(i["b"])("store",["loginUser"])),{},{getUser(){console.log("userDetails",this.$store.state.store.userDetails)},async submitForm(){this.$axios.defaults.withCredentials=!0,this.loading=!0,this.$axios.post("https://pahoss.herokuapp.com/login",this.formData).then((t=>{this.loading=!1,this.loginUser(t.data),console.log("redirect to validate"),this.$router.push("/dashboard"),console.log(t.data)})).catch((t=>{this.loading=!1,this.$q.notify({message:"Invalid login credentials",color:"red-4",position:"top",icon:"warning"})}))}})},c=l,d=(s("7fd5"),s("2877")),u=s("f09f"),m=s("a370"),p=s("0378"),f=s("27f9"),h=s("0016"),g=s("9c40"),b=s("eebe"),x=s.n(b),w=Object(d["a"])(c,a,o,!1,null,"36c7b237",null);e["default"]=w.exports;x()(w,"components",{QCard:u["a"],QCardSection:m["a"],QForm:p["a"],QInput:f["a"],QIcon:h["a"],QBtn:g["a"]})},"7fd5":function(t,e,s){"use strict";s("a401")},a401:function(t,e,s){}}]);