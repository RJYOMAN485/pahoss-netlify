(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"2ff9":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-md items-center justify-center q-gutter-md",staticStyle:{"max-width":"90rem",margin:"0 auto"}},[s("div",{staticClass:"text-h5",staticStyle:{position:"relative"}},[t._v("Update Profile")]),s("q-card",{staticClass:"q-pa-md",attrs:{flat:"",bordered:""}},[s("q-card-section",{attrs:{horizontal:""}},[s("div",{staticClass:"gt-xs col-4 text-center text-caption q-mt-lg"},[s("q-avatar",{attrs:{size:"100px","font-size":"52px",color:"grey-6","text-color":"white",icon:"account_circle"}}),s("div",{staticClass:"q-mt-lg text-h5"},[t._v("\n          "+t._s(t.user.name)+"\n        ")]),s("div",{staticClass:"text-subtitle1"},[t._v("\n          "+t._s(t.user.email)+"\n        ")])],1),s("q-card-section",{staticClass:"col"},[s("q-form",{staticClass:"q-gutter-md q-pa-md",on:{click:function(t){t.stopPropagation()},submit:function(e){return e.preventDefault(),t.onSubmit()}}},[s("div",{staticClass:"row q-pa-lg q-col-gutter-md justify-center"},[s("div",{staticClass:"col-md-6 col-sm-6 col-xs-12 col-lg-5"},[s("label",{attrs:{for:""}},[t._v("Name")]),s("q-input",{attrs:{rounded:"",outlined:"",dense:"",color:"purple-12",placeholder:"Name","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),s("label",{attrs:{for:""}},[t._v("Password")]),s("q-input",{attrs:{rounded:"",color:"purple-12",dense:"",outlined:"",placeholder:"Password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),s("div",{staticClass:"col-md-6 col-sm-6 col-xs-12 col-lg-5"},[s("label",{attrs:{for:""}},[t._v("Email")]),s("q-input",{attrs:{type:"email",rounded:"",outlined:"",color:"purple-12",dense:"",placeholder:"Email","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),s("label",{attrs:{for:""}},[t._v("Confirm Password")]),s("q-input",{attrs:{rounded:"",outlined:"",color:"purple-12",dense:"",placeholder:"Confirm Password"},model:{value:t.user.password_confirmation,callback:function(e){t.$set(t.user,"password_confirmation",e)},expression:"user.password_confirmation"}})],1),s("div",{staticClass:"col-md-6 col-sm-8 col-xs-12 col-lg-5"},[t.error?s("small",{staticClass:"text-red"},[t._v(t._s(t.error))]):t._e(),s("br"),s("small",[t._v("leave it blank to keep the same")]),s("br"),s("q-btn",{staticClass:"q-mt-md",staticStyle:{color:"#26A69A"},attrs:{type:"submit",rounded:"",outline:"",label:"Update",icon:"done"}})],1)])])],1)],1)],1)],1)},o=[],r=s("ded3"),l=s.n(r),i=s("2f62"),n={mounted(){let t={};this.user=Object.assign(t,this.$store.state.store.userDetails)},data(){return{user:{id:"",name:"",email:"",password:"",password_confirmation:""},error:""}},methods:l()(l()({},Object(i["b"])("store",["loginUser"])),{},{onSubmit(){!this.user.password&&!this.user.password_confirmation||this.user.password===this.user.password_confirmation?(this.error="",this.$axios.post("user/update",this.user).then((t=>{this.loginUser(this.user),console.log(t.data),this.$q.notify({message:"Profile updated successfully",color:"green-4",position:"top",icon:"thumb_up"})})).catch((t=>{console.log(t.message),this.edit=!1,this.$q.notify({message:t.message,color:"red-4",position:"top",icon:"warning"})}))):this.error="Password do not match"}})},c=n,u=s("2877"),d=s("f09f"),m=s("a370"),p=s("cb32"),f=s("0378"),h=s("27f9"),v=s("9c40"),b=s("eebe"),g=s.n(b),w=Object(u["a"])(c,a,o,!1,null,null,null);e["default"]=w.exports;g()(w,"components",{QCard:d["a"],QCardSection:m["a"],QAvatar:p["a"],QForm:f["a"],QInput:h["a"],QBtn:v["a"]})}}]);