(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{e617:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-md"},[s("q-dialog",{model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[s("q-card",[s("q-card-section",{staticClass:"row items-center"},[s("q-avatar",{attrs:{icon:"warning",color:"secondary","text-color":"white"}}),s("span",{staticClass:"q-ml-sm"},[t._v("Are you sure? Cancel booking")])],1),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"secondary"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Confirm",color:"red-5"},on:{click:function(e){return t.cancel()}}})],1)],1)],1),s("q-dialog",{model:{value:t.edit,callback:function(e){t.edit=e},expression:"edit"}},[s("q-card",{staticStyle:{"min-width":"300px","max-width":"600px"}},[s("q-card-section",{staticClass:"row items-center q-pb-none"},[s("div",{staticClass:"text-h6"},[t._v("Update Parking")]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),s("q-form",{staticClass:"q-gutter-md q-pa-lg"},[s("q-input",{attrs:{color:"secondary",dense:"",label:"Name","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]}}),s("q-input",{attrs:{color:"secondary",dense:"",label:"Latitude","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]}}),s("q-input",{attrs:{color:"secondary",dense:"",label:"Longitude","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]}}),s("q-input",{attrs:{color:"secondary",dense:"",label:"Available Time",rules:[function(t){return t&&10==t.length||"Maximum 10 digits"}]}}),s("q-select",{attrs:{dense:"",outlined:"",label:"Available Space","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}],flat:""}}),s("div",[s("q-btn",{staticClass:"full-width",attrs:{label:"Update",type:"submit",color:"secondary"}})],1)],1)],1)],1),s("q-markup-table",{attrs:{flat:"",bordered:""}},[s("thead",{staticClass:"bg-teal"},[s("tr",[s("th",{attrs:{colspan:"10"}},[s("div",{staticClass:"row no-wrap items-center"},[s("div",{staticClass:"text-h5 text-white"},[t._v("All Bookings")])])])]),s("tr",{staticStyle:{color:"#444"}},[s("th",{staticClass:"text-left"},[t._v("Name")]),s("th",{staticClass:"text-left"},[t._v("Book id")]),s("th",{staticClass:"text-left"},[t._v("Parking Name")]),s("th",{staticClass:"text-right"},[t._v("Entry date & time")]),s("th",{staticClass:"text-right"},[t._v("Exit date & time")]),s("th",{staticClass:"text-right"},[t._v("Amount")]),s("th",{staticClass:"text-right"},[t._v("Status")]),s("th",{staticClass:"text-right"},[t._v("Actions")])])]),s("tbody",{staticClass:"bg-grey-3",staticStyle:{color:"#555555"}},t._l(t.bookings,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"text-left"},[t._v(t._s(e.name))]),s("td",{staticClass:"text-left"},[t._v(t._s(e.id))]),s("td",{staticClass:"text-left"},[t._v(t._s(e.pname))]),s("td",{staticClass:"text-right"},[t._v("\n          "+t._s(e.entry_date)+" "+t._s(e.entry_time)+"\n        ")]),s("td",{staticClass:"text-right"},[t._v("\n          "+t._s(e.exit_date)+" "+t._s(e.exit_time)+"\n        ")]),s("td",{staticClass:"text-right"},[t._v(t._s(e.amount))]),s("td",{staticClass:"text-right",class:"active"==e.status?"text-green":"text-red"},[t._v(t._s(e.status))]),s("td",{staticClass:"text-right"},[s("q-btn",{staticClass:"bg-grey-3 customBtn",attrs:{disable:"active"!==e.status,size:"sm",round:"",flat:"",color:"red-3",icon:"active"==e.status?"close":"block"},on:{click:function(s){return t.setCancelId(e.id)}}})],1)])})),0)])],1)},i=[],l={mounted(){this.$axios.get("bookings").then((t=>{this.bookings=t.data})).catch((t=>{console.log("error",t.message)}))},data(){return{edit:!1,confirm:!1,bookings:[],cancelId:null}},methods:{cancel(){console.log("cancel");let t={id:this.cancelId};this.$axios.post("cancel",t).then((t=>{this.getBookings()})).catch((t=>{this.$q.notify({message:t.message,color:"red-4",position:"top",icon:"warning"}),console.log("error",t.message)}))},getBookings(){this.$axios.get("booking/today").then((t=>{this.bookings=t.data,console.log(this.bookings)})).catch((t=>{console.log("error",t.message)}))},setCancelId(t){this.cancelId=t,this.confirm=!0}}},o=l,n=s("2877"),c=s("24e8"),r=s("f09f"),d=s("a370"),u=s("cb32"),g=s("4b7e"),p=s("9c40"),h=s("2c91"),m=s("0378"),b=s("27f9"),v=s("ddd8"),f=s("2bb1"),C=s("7f67"),x=s("eebe"),_=s.n(x),y=Object(n["a"])(o,a,i,!1,null,null,null);e["default"]=y.exports;_()(y,"components",{QDialog:c["a"],QCard:r["a"],QCardSection:d["a"],QAvatar:u["a"],QCardActions:g["a"],QBtn:p["a"],QSpace:h["a"],QForm:m["a"],QInput:b["a"],QSelect:v["a"],QMarkupTable:f["a"]}),_()(y,"directives",{ClosePopup:C["a"]})}}]);