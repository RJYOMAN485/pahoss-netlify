(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{6672:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row flex flex-center q-gutter-md custombg",staticStyle:{"min-height":"100vh"}},[a("q-card",{staticClass:"my-card q-pa-md col",staticStyle:{"max-width":"600px",border:"3px solid #26A69A"}},[a("q-card-section",{staticClass:"bg-grey-8 text-white"},[a("div",{staticClass:"text-h6 text-center"},[t._v("Admin Login")])]),a("q-card-section",[a("q-form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[a("q-input",{attrs:{rules:[function(t){return t&&t.length>0||"Please type something"}],color:"purple-12",label:"Email",type:"email"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}}),a("q-input",{attrs:{rules:[function(t){return t&&t.length>0||"Please type something"}],type:"password",color:"purple-12",label:"Password"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}}),a("q-btn",{staticClass:"full-width",attrs:{label:"Login",type:"submit",loading:t.loading,color:"secondary"}})],1)],1)],1)],1)},o=[],i=a("ded3"),n=a.n(i),r=a("2f62"),l={mounted(){this.getUser(),this.$axios.defaults.withCredentials=!0,this.$axios.get("user",this.formData).then((t=>{console.log("auth",t.data)})).catch((t=>{console.log("unauthorised",t.message)}))},data(){return{name:null,age:null,loading:!1,accept:!1,errors:[],formData:{email:"admim@pahoss.com",password:"password",roles:"admin"},error:{}}},methods:n()(n()({},Object(r["b"])("store",["loginUser"])),{},{getUser(){console.log("userDetails",this.$store.state.store.userDetails)},async submitForm(){this.$axios.defaults.withCredentials=!0,this.loading=!0,await this.$axios,this.$axios.post("https://pahoss.herokuapp.com/login",this.formData).then((t=>{console.log("admin correct"),this.loading=!1,this.loginUser(t.data),console.log("redirect to validate"),this.$router.push("/admin"),console.log(t.data)})).catch((t=>{this.loading=!1,this.$q.notify({message:"Invalid login credentials",color:"red-4",position:"top",icon:"warning"})}))}})},c=l,d=(a("9314"),a("2877")),u=a("f09f"),m=a("a370"),p=a("0378"),h=a("27f9"),f=a("0016"),g=a("9c40"),w=a("eebe"),b=a.n(w),x=Object(d["a"])(c,s,o,!1,null,"55de2c60",null);e["default"]=x.exports;b()(x,"components",{QCard:u["a"],QCardSection:m["a"],QForm:p["a"],QInput:h["a"],QIcon:f["a"],QBtn:g["a"]})},9314:function(t,e,a){"use strict";a("de91")},de91:function(t,e,a){}}]);