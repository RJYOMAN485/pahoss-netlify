(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"734b":function(t,a,e){"use strict";e.r(a);var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"q-pa-md"},[e("div",{staticClass:"row q-col-gutter-lg "},[e("div",{staticClass:"col-6 col-lg-6 col-xs-12"},[e("q-card",[e("q-card-section",{staticClass:"row items-center q-pb-none"},[e("div",{staticClass:"text-h6"},[t._v("Update Parking")]),e("q-space")],1),e("q-form",{staticClass:"q-gutter-md q-pa-lg"},[e("q-input",{attrs:{dense:"",color:"secondary",label:"Name"},model:{value:t.location,callback:function(a){t.location=a},expression:"location"}}),e("div",{staticStyle:{display:"flex"}},[e("q-input",{attrs:{dense:"",color:"secondary",label:"Latitude"},model:{value:t.lat,callback:function(a){t.lat=a},expression:"lat"}}),e("q-input",{staticClass:"q-ml-sm",attrs:{dense:"",color:"secondary",label:"Longitude"},model:{value:t.lng,callback:function(a){t.lng=a},expression:"lng"}})],1),e("q-input",{attrs:{dense:"",type:"number",color:"secondary",label:"Available space"}}),e("q-select",{attrs:{options:t.options,label:"Available time"},model:{value:t.model,callback:function(a){t.model=a},expression:"model"}}),e("div",[e("q-btn",{staticClass:"full-width",attrs:{label:"Update",type:"submit",color:"secondary"}})],1)],1)],1)],1),e("div",{staticClass:"col-6 col-lg-6 col-xs-12"},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h6"},[t._v("Our Changing Planet")]),e("small",[t._v("Click on the map to set a marker. (Location tracked\n            automatically.)")])]),e("gmap-map",{ref:"mapRef",staticStyle:{width:"100%",height:"50vmin"},attrs:{center:t.center,zoom:16,"map-style-id":"roadmap"},on:{click:t.handleMapClick}},[e("gmap-marker",{attrs:{position:t.marker.position,clickable:!0,draggable:!0},on:{drag:t.handleMarkerDrag,click:t.panToMarker}})],1)],1)],1)])])},o=[],n=e("755e"),i={name:"GoogleMap",computed:{google:n["gmapApi"]},data(){return{marker:{position:{lat:10,lng:10}},center:{lat:10,lng:10},mapOptions:{disableDefaultUI:!0},location:"",lat:"",lng:"",model:null,options:["Morning","Morning-Afternoon","Night"]}},mounted(){this.geolocate()},methods:{geolocate(){navigator.geolocation.getCurrentPosition((t=>{this.marker.position={lat:t.coords.latitude,lng:t.coords.longitude},this.getCityAndCountry(),this.panToMarker()}))},getCityAndCountry(){this.lat=this.marker.position.lat,this.lng=this.marker.position.lng,console.log(this.marker.position.lat);let t=`http://geocode.xyz/${this.marker.position.lat},${this.marker.position.lng} ?json=1`;this.$axios.defaults.withCredentials=!1,this.$axios.get(t).then((t=>{console.log("address",t.data),this.location=t.data.city+","+t.data.region})).catch((t=>{console.log(t)}))},handleMarkerDrag(t){this.marker.position={lat:t.latLng.lat(),lng:t.latLng.lng()}},panToMarker(){this.$refs.mapRef.panTo(this.marker.position)},handleMapClick(t){this.marker.position={lat:t.latLng.lat(),lng:t.latLng.lng()},console.log(t),this.getCityAndCountry()}}},s=i,r=e("2877"),c=e("f09f"),d=e("a370"),p=e("2c91"),g=e("0378"),m=e("27f9"),u=e("ddd8"),h=e("9c40"),k=e("eebe"),b=e.n(k),C=Object(r["a"])(s,l,o,!1,null,null,null);a["default"]=C.exports;b()(C,"components",{QCard:c["a"],QCardSection:d["a"],QSpace:p["a"],QForm:g["a"],QInput:m["a"],QSelect:u["a"],QBtn:h["a"]})}}]);