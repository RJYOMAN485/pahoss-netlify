(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{ee5c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("q-dialog",{model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:"warning",color:"secondary","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[t._v("Are you sure you want to delete ?")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"secondary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Confirm",color:"red-5"},on:{click:function(e){return t.onDelete()}}})],1)],1)],1),a("q-dialog",{model:{value:t.edit,callback:function(e){t.edit=e},expression:"edit"}},[a("q-card",{staticStyle:{"min-width":"300px","max-width":"600px"}},[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h6"},[t._v("Update Parking")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("q-form",{staticClass:"q-gutter-md q-pa-lg",on:{submit:function(e){return e.preventDefault(),t.onUpdate(e)}}},[a("q-input",{attrs:{color:"secondary",dense:"",label:"Name","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.editParking.pname,callback:function(e){t.$set(t.editParking,"pname",e)},expression:"editParking.pname"}}),a("q-input",{attrs:{color:"secondary",dense:"",label:"Latitude","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.editParking.lat,callback:function(e){t.$set(t.editParking,"lat",e)},expression:"editParking.lat"}}),a("q-input",{attrs:{color:"secondary",dense:"",label:"Longitude","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.editParking.lng,callback:function(e){t.$set(t.editParking,"lng",e)},expression:"editParking.lng"}}),a("q-input",{attrs:{color:"secondary",dense:"",label:"Available Space",rules:[function(t){return t&&t.length>0||"Maximum 10 digits"}]},model:{value:t.editParking.available_space,callback:function(e){t.$set(t.editParking,"available_space",e)},expression:"editParking.available_space"}}),a("q-select",{attrs:{dense:"",label:"Available Time","lazy-rules":"",options:t.options,rules:[function(t){return t&&t.length>0||"Please type something"}],flat:""},model:{value:t.editParking.available_time,callback:function(e){t.$set(t.editParking,"available_time",e)},expression:"editParking.available_time"}}),a("div",[a("q-btn",{staticClass:"full-width",attrs:{label:"Update",type:"submit",color:"secondary"}})],1)],1)],1)],1),a("div",{staticClass:"text-right q-mb-md"},[a("q-btn",{attrs:{to:"/parking/new",dense:"",icon:"add",color:"green",label:"New Parking"}})],1),a("q-markup-table",{attrs:{flat:"",bordered:""}},[a("thead",{staticClass:"bg-grey"},[a("tr",[a("th",{attrs:{colspan:"6"}},[a("div",{staticClass:"row no-wrap items-center"},[a("div",{staticClass:"text-h5 q-ml-md text-white"},[t._v("Parking Zones")])])])]),a("tr",{staticStyle:{color:"#444"}},[a("th",{staticClass:"text-left"},[t._v("Name")]),a("th",{staticClass:"text-center"},[t._v("Latitude")]),a("th",{staticClass:"text-center"},[t._v("Longitude")]),a("th",{staticClass:"text-center"},[t._v("Available Space")]),a("th",{staticClass:"text-center"},[t._v("Available Time")]),a("th",{staticClass:"text-center"},[t._v("Actions")])])]),a("tbody",{staticClass:"bg-grey-3",staticStyle:{color:"#555555"}},t._l(t.parkings,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"text-left"},[t._v(t._s(e.pname))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.lat))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.lng))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.available_space))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.available_time))]),a("td",{staticClass:"text-right"},[a("q-btn",{staticClass:"bg-grey-3 customBtn",attrs:{size:"sm",round:"",flat:"",color:"green",icon:"edit"},on:{click:function(a){return t.setEdit(e)}}}),a("q-btn",{staticClass:"bg-grey-3 customBtn",attrs:{size:"sm",round:"",flat:"",color:"red-5",icon:"delete"},on:{click:function(a){return t.setDelete(e.id)}}})],1)])})),0)])],1)},i=[],n={mounted(){this.getParking()},data(){return{edit:!1,confirm:!1,parkings:[],editParking:{},deleteId:null,options:["Morning","Morning-Afternoon","Afternoon","Night"]}},methods:{editDialog(){this.edit=!0},getParking(){this.$axios.get("parking-zones").then((t=>{this.parkings=t.data})).catch((t=>{console.log("error",t.message)}))},setEdit(t){Object.assign(this.editParking,t),console.log("parking",t),this.edit=!0},setDelete(t){this.deleteId=t,this.confirm=!0},onDelete(){let t={id:this.deleteId};console.log("delete"),this.$axios.post("delete-parking",t).then((t=>{this.getParking()})).catch((t=>{this.$q.notify({message:t.message,color:"red-4",position:"top",icon:"warning"}),console.log("error",t.message)}))},onUpdate(){this.$axios.post("update-parking",this.editParking).then((t=>{this.$q.notify({message:"Updated Successful",color:"green",position:"top",icon:"thumb_up"}),this.getParking(),this.edit=!1})).catch((t=>{this.$q.notify({message:t.message,color:"red-4",position:"top",icon:"warning"}),console.log("error",t.message),this.edit=!1}))}}},l=n,o=a("2877"),r=a("24e8"),c=a("f09f"),d=a("a370"),g=a("cb32"),p=a("4b7e"),u=a("9c40"),m=a("2c91"),b=a("0378"),h=a("27f9"),v=a("ddd8"),f=a("2bb1"),k=a("7f67"),q=a("eebe"),x=a.n(q),C=Object(o["a"])(l,s,i,!1,null,null,null);e["default"]=C.exports;x()(C,"components",{QDialog:r["a"],QCard:c["a"],QCardSection:d["a"],QAvatar:g["a"],QCardActions:p["a"],QBtn:u["a"],QSpace:m["a"],QForm:b["a"],QInput:h["a"],QSelect:v["a"],QMarkupTable:f["a"]}),x()(C,"directives",{ClosePopup:k["a"]})}}]);